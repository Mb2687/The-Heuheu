---
import MainLayout from '../../layouts/MainLayout.astro';
---

<MainLayout 
	title="HTML Entity Encoder: Safe Code Escaping" 
	description="Convert special characters to HTML entities instantly. Secure your code snippets and prevent browser execution with this local utility."
>
	<div>
		<div class="mb-8 text-center">
			<h1 class="text-3xl font-bold text-slate-900">HTML Entity Alchemist</h1>
			<p class="mt-2 text-slate-600 font-medium text-lg">Transmute symbols into safe, renderable entities.</p>
		</div>

		<div class="grid grid-cols-1 gap-6">
			<div class="space-y-2">
				<label class="block text-sm font-bold text-slate-700 uppercase tracking-wide">Input (Raw Code/Symbols)</label>
				<textarea 
					id="entity-input" 
					rows="8" 
					placeholder="Paste your HTML or code here... (e.g., <div>Content</div>)" 
					class="w-full p-4 font-mono text-sm border rounded-xl shadow-sm focus:ring-2 focus:ring-indigo-500 outline-none border-slate-200 bg-white"
				></textarea>
			</div>
			
			<div class="flex flex-wrap gap-4">
				<button id="encode-btn" class="flex-1 bg-indigo-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-indigo-700 transition-all shadow-md">Encode Entities</button>
				<button id="decode-btn" class="flex-1 bg-emerald-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-emerald-700 transition-all shadow-md">Decode Entities</button>
				<button id="clear-btn" class="bg-slate-200 text-slate-700 px-6 py-3 rounded-lg font-bold hover:bg-slate-300 transition-all">Clear</button>
			</div>

			<div class="space-y-2">
				<label class="block text-sm font-bold text-slate-700 uppercase tracking-wide">Result (Escaped/Unescaped)</label>
				<textarea 
					id="entity-output" 
					rows="8" 
					readonly
					class="w-full p-4 font-mono text-sm border rounded-xl shadow-sm bg-slate-50 border-slate-200 text-slate-800"
				></textarea>
			</div>
		</div>

		<article class="mt-20 prose prose-slate max-w-none border-t border-slate-100 pt-12 text-slate-600">
			<h2 class="text-2xl font-bold text-slate-900">What are HTML Entities?</h2>
			<p class="mt-4 leading-relaxed">
				HTML entities are a sequence of characters used to represent reserved characters or symbols that cannot be easily typed on a keyboard. For instance, the character <code>&lt;</code> is reserved in HTML to start a tag. To display it literally on a webpage, you must use the entity <code>&amp;lt;</code>.
			</p>

			<h3 class="text-xl font-bold text-slate-900 mt-10">Why Encoding Matters for Security</h3>
			<p class="mt-4 leading-relaxed">
				Failing to encode user input or code snippets can lead to Cross-Site Scripting (XSS) vulnerabilities. By converting symbols into safe entities, the Heuheu ensures that your data remains data and isn't accidentally executed as malicious code by the visitor's browser.
			</p>

			<h3 class="text-xl font-bold text-slate-900 mt-10">Local Privacy and Speed</h3>
			<p class="mt-4 leading-relaxed">
				Like every tool in the Junk Drawer, the Entity Alchemist works entirely client-side. Your sensitive code snippets, internal documentation, or private drafts are processed by your browser's own rendering engine. This provides instant results and total privacy, as your input never reaches an external server.
			</p>
		</article>
	</div>

	<script is:inline>
		const input = document.getElementById('entity-input');
		const output = document.getElementById('entity-output');
		const encodeBtn = document.getElementById('encode-btn');
		const decodeBtn = document.getElementById('decode-btn');
		const clearBtn = document.getElementById('clear-btn');

		encodeBtn.addEventListener('click', () => {
			const div = document.createElement('div');
			div.textContent = input.value;
			output.value = div.innerHTML;
		});

		decodeBtn.addEventListener('click', () => {
			const div = document.createElement('div');
			div.innerHTML = input.value;
			output.value = div.textContent;
		});

		clearBtn.addEventListener('click', () => {
			input.value = '';
			output.value = '';
		});
	</script>
</MainLayout>
